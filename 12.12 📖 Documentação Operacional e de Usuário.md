Alright, let's tackle `12.12 üìñ Documenta√ß√£o Operacional e de Usu√°rio`. This is the last of the `12.x` sections from the blueprint and is marked as "üìù A√ß√£o Requerida." Good documentation is crucial for maintainability and usability.

Here's the current content from `VV-Video-AI-System-Master-Blueprint-v2.2.md` for section 12.12:

```markdown
### 12.12 üìñ Documenta√ß√£o Operacional e de Usu√°rio

*   **Objetivo**: Criar documenta√ß√£o para operadores do sistema e, se aplic√°vel, usu√°rios finais.
*   **Conte√∫do Sugerido**:
    1.  **Guia do Operador**:
        *   Troubleshooting de problemas comuns (e.g., containers n√£o iniciam, v√≠deos n√£o s√£o processados, alertas comuns).
        *   Interpreta√ß√£o de logs (`app.log`, logs de containers).
        *   Procedimentos para interven√ß√µes manuais (e.g., for√ßar reprocessamento, limpar estado).
        *   Como verificar a integridade do sistema (`vv-signature.json`, `logline_verifier.py`).
        *   Procedimento de backup e restaura√ß√£o.
    2.  **Guia de Configura√ß√£o Avan√ßada**:
        *   Detalhes sobre `config.yaml` para `tv_scheduler` e `vv_ingest`.
        *   Como adicionar/modificar prompts para `summarize_scene.py`.
    3.  **(Opcional) Guia do Usu√°rio**: Se houver usu√°rios interagindo com as UIs de forma mais complexa do que apenas visualiza√ß√£o.
*   **Formato**: Markdown no reposit√≥rio (e.g., em uma pasta `docs/`), Wiki do GitHub.
*   **Impacto Esperado**: Facilita a manuten√ß√£o, onboarding de novos membros da equipe, e reduz a depend√™ncia de conhecimento t√°cito.
```

This provides a good outline. We can expand this by:

1.  **Detailing the structure of the `docs/` directory.**
2.  **Fleshing out the table of contents for each guide.**
3.  **Adding more specific topics that should be covered.**
4.  **Considering a "Developer Guide" section.**
5.  **Discussing best practices for writing and maintaining the documentation.**

Let's create a more comprehensive plan for documentation.

---

## 12.12 üìñ Documenta√ß√£o Detalhada do Sistema: Operacional, Configura√ß√£o e Usu√°rio

**Objetivo:** Criar e manter um conjunto abrangente de documenta√ß√£o para o `VV-Video-AI-System`, cobrindo a instala√ß√£o, opera√ß√£o, configura√ß√£o avan√ßada, troubleshooting e, se aplic√°vel, o uso das interfaces por usu√°rios finais. A documenta√ß√£o visa facilitar a manuten√ß√£o, o onboarding de novos membros da equipe, a resolu√ß√£o de problemas e o uso eficaz do sistema.

**P√∫blico-Alvo:**
*   **Operadores do Sistema/Administradores:** Respons√°veis pela instala√ß√£o, manuten√ß√£o, monitoramento e recupera√ß√£o do sistema.
*   **Desenvolvedores:** Que trabalham no c√≥digo do sistema ou o integram.
*   **Usu√°rios Finais (Potencial):** Que interagem com as UIs (`tv.html`, `tv_mirror.html`).

**Formato e Localiza√ß√£o:**
*   **Formato Principal:** Markdown (`.md`).
*   **Localiza√ß√£o:** Dentro do reposit√≥rio Git em um diret√≥rio `docs/`.
*   **Opcional:** Partes da documenta√ß√£o (especialmente guias de usu√°rio ou FAQs) podem ser publicadas na Wiki do GitHub do projeto para facilitar o acesso.
*   **Diagramas:** Utilizar ferramentas como Mermaid (integrado em muitas plataformas Markdown), PlantUML, ou draw.io (exportando como PNG/SVG) para ilustrar a arquitetura e fluxos.

---

### 1. Estrutura Proposta para o Diret√≥rio `docs/`

```
docs/
‚îú‚îÄ‚îÄ README.md                     <-- P√°gina inicial da documenta√ß√£o, com links para os guias.
‚îÇ
‚îú‚îÄ‚îÄ 01-introduction/
‚îÇ   ‚îú‚îÄ‚îÄ overview.md               <-- Vis√£o geral do sistema, arquitetura b√°sica, prop√≥sito.
‚îÇ   ‚îî‚îÄ‚îÄ architecture.md           <-- Diagrama de arquitetura detalhado e descri√ß√£o dos componentes.
‚îÇ
‚îú‚îÄ‚îÄ 02-installation/
‚îÇ   ‚îú‚îÄ‚îÄ prerequisites.md          <-- Requisitos de hardware e software.
‚îÇ   ‚îú‚îÄ‚îÄ install_script.md         <-- Detalhes sobre o uso do `install.sh`.
‚îÇ   ‚îú‚îÄ‚îÄ manual_setup.md           <-- (Opcional) Guia para setup manual, passo a passo.
‚îÇ   ‚îî‚îÄ‚îÄ configuration_initial.md  <-- Configura√ß√£o inicial (e.g., `.env`, `DVR_IP`).
‚îÇ
‚îú‚îÄ‚îÄ 03-operation/
‚îÇ   ‚îú‚îÄ‚îÄ starting_stopping.md      <-- Como iniciar, parar, verificar status (systemd, docker-compose).
‚îÇ   ‚îú‚îÄ‚îÄ monitoring.md             <-- Como monitorar o sistema (logs, /status API, Prometheus/Grafana - ref 12.10).
‚îÇ   ‚îú‚îÄ‚îÄ common_tasks.md           <-- Tarefas rotineiras (e.g., verificar espa√ßo em disco).
‚îÇ   ‚îú‚îÄ‚îÄ backup_recovery.md        <-- Guia de Backup e Recupera√ß√£o (detalhes de 12.8).
‚îÇ   ‚îî‚îÄ‚îÄ integrity_checks.md       <-- Uso de `vv-signature.json`, `logline_verifier.py`.
‚îÇ
‚îú‚îÄ‚îÄ 04-troubleshooting/
‚îÇ   ‚îú‚îÄ‚îÄ common_issues.md          <-- Problemas comuns e suas solu√ß√µes (e.g., container n√£o inicia, v√≠deo n√£o processa).
‚îÇ   ‚îú‚îÄ‚îÄ interpreting_logs.md      <-- Guia para entender `app.log` e logs de containers.
‚îÇ   ‚îú‚îÄ‚îÄ error_codes_alerts.md     <-- Cat√°logo de alertas comuns (ref 12.9) e seus significados.
‚îÇ   ‚îî‚îÄ‚îÄ manual_interventions.md   <-- Procedimentos para interven√ß√µes (for√ßar reprocessamento, limpar estado do orquestrador).
‚îÇ
‚îú‚îÄ‚îÄ 05-configuration_advanced/
‚îÇ   ‚îú‚îÄ‚îÄ tv_scheduler_config.md    <-- Detalhes sobre `tv_scheduler/config.yaml`.
‚îÇ   ‚îú‚îÄ‚îÄ vv_ingest_config.md       <-- Detalhes sobre `vv_ingest/config.yaml`.
‚îÇ   ‚îú‚îÄ‚îÄ summarize_scene_prompts.md <-- Como gerenciar e modificar prompts para `summarize_scene.py`.
‚îÇ   ‚îú‚îÄ‚îÄ environment_variables.md  <-- Lista completa de vari√°veis de ambiente e seus prop√≥sitos.
‚îÇ   ‚îî‚îÄ‚îÄ security_config.md        <-- Detalhes sobre NGINX+JWT (12.1), gest√£o de segredos (12.7).
‚îÇ
‚îú‚îÄ‚îÄ 06-component_guides/          <-- Descri√ß√£o detalhada de cada servi√ßo/script principal
‚îÇ   ‚îú‚îÄ‚îÄ orchestrator.md
‚îÇ   ‚îú‚îÄ‚îÄ agent_dvr.md
‚îÇ   ‚îú‚îÄ‚îÄ scan_video.md
‚îÇ   ‚îú‚îÄ‚îÄ summarize_scene.md        <-- Incluindo detalhes sobre o modelo BitNet (ref 12.6)
‚îÇ   ‚îú‚îÄ‚îÄ logline_generator.md
‚îÇ   ‚îú‚îÄ‚îÄ tv_scheduler.md
‚îÇ   ‚îú‚îÄ‚îÄ self_monitor.md
‚îÇ   ‚îî‚îÄ‚îÄ ... (outros scripts/servi√ßos)
‚îÇ
‚îú‚îÄ‚îÄ 07-user_guides/               <-- (Se aplic√°vel)
‚îÇ   ‚îú‚îÄ‚îÄ tv_ui_guide.md            <-- Como usar `tv.html`.
‚îÇ   ‚îî‚îÄ‚îÄ tv_mirror_ui_guide.md     <-- Como usar `tv_mirror.html`.
‚îÇ
‚îú‚îÄ‚îÄ 08-developer_guide/
‚îÇ   ‚îú‚îÄ‚îÄ development_setup.md      <-- Como configurar um ambiente de desenvolvimento.
‚îÇ   ‚îú‚îÄ‚îÄ coding_standards.md       <-- Padr√µes de c√≥digo, linting, formata√ß√£o.
‚îÇ   ‚îú‚îÄ‚îÄ running_tests.md          <-- Como executar testes automatizados.
‚îÇ   ‚îú‚îÄ‚îÄ ci_cd_pipeline.md         <-- Detalhes sobre o pipeline de CI/CD (ref 12.5).
‚îÇ   ‚îú‚îÄ‚îÄ extending_system.md       <-- Guia para adicionar novos m√≥dulos ou funcionalidades.
‚îÇ   ‚îî‚îÄ‚îÄ api_reference.md          <-- (Se houver APIs internas/externas significativas)
‚îÇ
‚îî‚îÄ‚îÄ glossary.md                   <-- Termos e defini√ß√µes espec√≠ficas do projeto.
```

---

### 2. Detalhamento do Conte√∫do dos Guias Principais

#### 2.1. Guia do Operador (Combina√ß√£o de `docs/03-operation/` e `docs/04-troubleshooting/`)

*   **Introdu√ß√£o √† Opera√ß√£o:**
    *   Verifica√ß√µes di√°rias/semanais.
    *   Principais pontos de monitoramento.
*   **Gest√£o de Servi√ßos:**
    *   Usando `systemctl` para `vv-video-ai.service` e `vv-video-ai.timer`.
    *   Comandos `docker-compose` essenciais (`ps`, `logs`, `up`, `down`, `restart`).
*   **Monitoramento e Sa√∫de do Sistema:**
    *   Como acessar e interpretar o endpoint `/status`.
    *   Interpreta√ß√£o b√°sica de dashboards Grafana (se `12.10` implementado).
    *   An√°lise de `logs/app.log` e `docker logs <container_name>` para erros comuns.
    *   Verifica√ß√£o de espa√ßo em disco e alertas de `cleanup_old_files.py`.
*   **Troubleshooting Detalhado:**
    *   **Cen√°rio 1: V√≠deos n√£o est√£o sendo processados.**
        *   Verificar logs do `orchestrator.py`.
        *   Verificar `input/` e estado do orquestrador (ref `12.4`).
        *   Verificar logs dos containers do pipeline (`scene_scanner`, `scene_summarizer`, `logline_writer`).
    *   **Cen√°rio 2: Container(s) est√£o reiniciando em loop.**
        *   Usar `docker ps` para ver status e contagem de rein√≠cios.
        *   Analisar logs do container espec√≠fico.
        *   Verificar logs do `self_monitor.py`.
        *   Causas comuns: erro de configura√ß√£o, falta de recursos, falha ao conectar a depend√™ncias.
    *   **Cen√°rio 3: UI (`tv.html` ou `tv_mirror.html`) n√£o exibe conte√∫do ou mostra erro.**
        *   Verificar logs do container `tv_api` ou `tv_mirror_ui`.
        *   Verificar se `playlist.json` est√° sendo gerado corretamente por `tv_scheduler.py`.
        *   Verificar logs do NGINX (se `12.1` implementado) para erros de proxy ou JWT.
    *   **Cen√°rio 4: Alertas comuns recebidos (ref `12.9`) e como reagir.**
        *   Alerta de disco cheio.
        *   Alerta de falha de HMAC.
        *   Alerta de falha de valida√ß√£o de schema.
*   **Procedimentos de Integridade:**
    *   Como usar `scripts/logline_verifier.py`.
    *   Como verificar o `vv-signature.json` (se houver um script para isso).
*   **Backup e Restaura√ß√£o (Resumo e link para `docs/03-operation/backup_recovery.md`):**
    *   Como iniciar um backup manual (se aplic√°vel).
    *   Passos gerais para um cen√°rio de restaura√ß√£o.
*   **Interven√ß√µes Manuais:**
    *   For√ßar reprocessamento de um v√≠deo (e.g., removendo-o do estado do orquestrador e movendo-o de volta para `input/`).
    *   Limpeza manual de diret√≥rios (com cautela).
    *   Reiniciar um servi√ßo espec√≠fico via `docker-compose restart <service_name>`.

#### 2.2. Guia de Configura√ß√£o Avan√ßada (`docs/05-configuration_advanced/`)

*   **`tv_scheduler/config.yaml`:**
    *   Sintaxe detalhada.
    *   Exemplos de regras para diferentes TVs.
    *   Como adicionar novas TVs ou modificar crit√©rios de filtragem (tags, hor√°rios).
    *   Impacto das op√ß√µes de `shuffle`.
*   **`vv_ingest/config.yaml` (se o m√≥dulo `vv_ingest` for complexo):**
    *   Par√¢metros de convers√£o de v√≠deo.
    *   Op√ß√µes de cataloga√ß√£o e curadoria.
*   **Gerenciamento de Prompts para `summarize_scene.py`:**
    *   Localiza√ß√£o do arquivo `scene_summarizer.prompt`.
    *   Diretrizes para modificar o prompt.
    *   Como testar altera√ß√µes no prompt.
    *   Versionamento de prompts (se aplic√°vel).
*   **Vari√°veis de Ambiente (`.env`):**
    *   Lista completa de todas as vari√°veis de ambiente usadas pelo sistema.
    *   Descri√ß√£o, valor padr√£o (se houver), e impacto de cada uma.
    *   Sensibilidade (se √© um segredo).
*   **Configura√ß√£o de Seguran√ßa (Links para se√ß√µes relevantes):**
    *   NGINX+JWT (resumo e link para `12.1`).
    *   Gerenciamento de Chaves e Segredos (resumo e link para `12.7`).

#### 2.3. Guia do Usu√°rio (`docs/07-user_guides/`) (Se necess√°rio)

*   **`tv.html`:**
    *   Como acessar a UI.
    *   Explica√ß√£o dos elementos da interface.
    *   Significado de fallback silencioso.
*   **`tv_mirror.html`:**
    *   Como acessar.
    *   Explica√ß√£o do modo MJPEG e fallback de imagem.
    *   Limita√ß√µes (e.g., sem grava√ß√£o).

#### 2.4. Guia do Desenvolvedor (`docs/08-developer_guide/`)

*   **Configura√ß√£o do Ambiente de Desenvolvimento:**
    *   Clonar o reposit√≥rio.
    *   Instalar depend√™ncias (Python, Docker, etc.).
    *   Como usar `.env` para desenvolvimento.
    *   Configura√ß√£o de IDEs (VSCode com devcontainers, PyCharm).
*   **Estrutura do C√≥digo:**
    *   Vis√£o geral da organiza√ß√£o dos diret√≥rios e m√≥dulos.
    *   Principais bibliotecas e frameworks usados.
*   **Padr√µes de C√≥digo e Qualidade:**
    *   Estilo de c√≥digo (PEP 8), uso de linters (Flake8, Pylint), formatadores (Black, isort).
    *   Coment√°rios e docstrings.
*   **Fluxo de Trabalho de Desenvolvimento:**
    *   Branches Git (e.g., Gitflow).
    *   Pull Requests e Code Reviews.
*   **Execu√ß√£o de Testes:**
    *   Como rodar `pytest`.
    *   Como gerar relat√≥rios de cobertura.
    *   Adicionando novos testes.
*   **Pipeline de CI/CD (Refer√™ncia a `12.5`):**
    *   Como o pipeline √© acionado.
    *   Principais etapas (build, test, push de imagem).
    *   Como monitorar o pipeline.
*   **Adicionando um Novo Servi√ßo/M√≥dulo:**
    *   Passos recomendados (criar diret√≥rio, Dockerfile, adicionar ao `docker-compose.yml`, etc.).
    *   Integra√ß√£o com `orchestrator.py` (se aplic√°vel).
    *   Exposi√ß√£o de m√©tricas e logs.
*   **Gerenciamento de Modelo BitNet (Refer√™ncia a `12.6`):**
    *   Como atualizar ou testar um novo modelo.
*   **APIs Internas/Externas:**
    *   Documenta√ß√£o de quaisquer APIs REST expostas por servi√ßos (e.g., `/status`).

---

### 3. Boas Pr√°ticas para Documenta√ß√£o

*   **Clareza e Concis√£o:** Usar linguagem simples e direta.
*   **Atualiza√ß√£o Cont√≠nua:** A documenta√ß√£o deve ser tratada como c√≥digo ‚Äì atualizada junto com as mudan√ßas no sistema. Incluir "atualizar documenta√ß√£o" como parte da Definition of Done para novas features ou bugs.
*   **Exemplos Pr√°ticos:** Incluir exemplos de c√≥digo, comandos e configura√ß√µes.
*   **Screenshots e Diagramas:** Usar recursos visuais para explicar conceitos complexos ou UIs.
*   **Consist√™ncia:** Manter um estilo e formato consistentes em toda a documenta√ß√£o.
*   **Revis√£o:** Pedir a outros membros da equipe para revisar a documenta√ß√£o quanto √† clareza e precis√£o.
*   **Acessibilidade:** Garantir que a documenta√ß√£o seja f√°cil de navegar e pesquisar.

---

### 4. Impacto Esperado

*   **Manuten√ß√£o Simplificada:** Operadores podem resolver problemas e realizar tarefas de manuten√ß√£o com mais autonomia.
*   **Onboarding Eficaz:** Novos membros da equipe (operadores ou desenvolvedores) podem se familiarizar com o sistema mais rapidamente.
*   **Redu√ß√£o da Depend√™ncia de Conhecimento T√°cito:** Conhecimento cr√≠tico sobre o sistema √© explicitado e preservado.
*   **Melhoria da Qualidade:** O processo de documentar pode revelar inconsist√™ncias ou √°reas para melhoria no pr√≥prio sistema.
*   **Colabora√ß√£o Aprimorada:** Uma base de conhecimento compartilhada facilita a colabora√ß√£o.

---

Esta estrutura e detalhamento devem fornecer um excelente ponto de partida para criar a documenta√ß√£o do `VV-Video-AI-System`. A chave ser√° a disciplina para mant√™-la atualizada √† medida que o sistema evolui.
